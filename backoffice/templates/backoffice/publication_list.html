{% extends "backoffice/base.html" %}

{% load i18n %}

{% block content %}
<div class="container">
    <h1 class="pt-5">{% trans "Publications" %}
        <a href="{% url 'publication_create' campaign_pk %}" class="btn btn-primary ml-5" title="{% trans 'Add publication' %}">
            <i class="fas fa-plus"></i>
        </a>
    </h1>
    <div class="row pt-5">
        <table class="table">
          <thead>
            <tr class="row">
              <th class="col-5">{% trans 'Title' %}</th>
              <th class="col-4">{% trans 'Url' %}</th>
              <th class="col-3"></th>
            </tr>
          </thead>
          <tbody>
                {% for object in object_list %}
                    <tr class="row">
                        <td class="col-5">{{ object.name }}</td>
                        <td class="col-4">{{ object.url }}</td>
                        <td class="col-3">
                            <a href="{% url 'tagvideo_create' object.pk %}" class="btn btn-primary" title="{% trans 'Add tags' %}">
                                <i class="fas fa-align-justify"></i>
                            </a>
                            <a href="{% url 'publication_update' object.campaign.pk object.pk %}" class="btn btn-warning" title="{% trans 'Edit publication' %}">
                                <i class="fas fa-edit"></i>
                            </a>
                            <a href="{% url 'publication_delete' object.campaign.pk object.pk %}" class="btn btn-danger" title="{% trans 'Delete publication' %}">
                                <i class="fas fa-trash-alt"></i>
                            </a>
                            {% if not object.published %}
                                <a href="{% url 'publication_publish' object.pk %}" class="btn btn-primary float-right" title="{% trans 'Publish' %}">{% trans 'Publish' %}</a>
                            {% else %}
                                <span class="float-right">{% trans 'Published' %}</span>
                            {% endif %}
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </tbody>
</div>

{% endblock %}
